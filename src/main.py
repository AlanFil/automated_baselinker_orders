from src.create_xml import create_xml
from src.download_orders import download_orders

if __name__ == '__main__':
    # orders = download_orders()

    """ TEST DATA """
    orders = {'status': 'SUCCESS', 'orders': [{'order_id': 317604108, 'shop_order_id': '', 'external_order_id': 'd3f098f1-0965-11ec-8166-25fd6cb96acd', 'order_source': 'allegro', 'order_source_id': '37372', 'order_source_info': '-', 'order_status_id': 238258, 'confirmed': True, 'date_confirmed': 1630310418, 'date_add': 1630309994, 'date_in_status': 1630310418, 'user_login': 'mlodypustok', 'phone': '+48782152902', 'email': 'z65b1tjsnq+40cd2bec3@allegromail.pl', 'user_comments': '', 'admin_comments': '', 'currency': 'PLN', 'payment_method': 'Przelewy24', 'payment_method_cod': '0', 'payment_done': 307.99, 'delivery_method': 'Allegro Paczkomaty InPost', 'delivery_price': 8.99, 'delivery_package_module': '', 'delivery_package_nr': '', 'delivery_fullname': 'Michał Sobczak', 'delivery_company': 'Kancelaria Notarialna', 'delivery_address': 'Konopnickiej 10', 'delivery_city': 'Łęczyca', 'delivery_postcode': '99-100', 'delivery_country_code': 'PL', 'delivery_point_id': 'LEC01N', 'delivery_point_name': 'Paczkomat LEC01N', 'delivery_point_address': 'Dominikańska 8D', 'delivery_point_postcode': '99-100', 'delivery_point_city': 'Łęczyca', 'invoice_fullname': 'Michał Sobczak', 'invoice_company': 'Kancelaria Notarialna', 'invoice_nip': '', 'invoice_address': 'Konopnickiej 10', 'invoice_city': 'Łęczyca', 'invoice_postcode': '99-100', 'invoice_country_code': 'PL', 'want_invoice': '0', 'extra_field_1': '', 'extra_field_2': '', 'order_page': 'https://klient.baselinker.com/317604108/kfyadd2iuz/', 'pick_state': 0, 'pack_state': 0, 'delivery_country': 'Polska', 'invoice_country': 'Polska', 'products': [{'storage': 'db', 'storage_id': '0', 'order_product_id': '563445514', 'product_id': '', 'variant_id': '', 'name': 'Słuchawki bezprzewodowe Samsung AKG Y100 niebieski', 'attributes': '', 'sku': 'GP-Y100HAHHBAC', 'ean': '', 'auction_id': '10960785703', 'price_brutto': 299, 'tax_rate': 23, 'quantity': 1, 'weight': 0}]}, {'order_id': 317604113, 'shop_order_id': '', 'external_order_id': '34133c02-0967-11ec-a1d6-cd4445b06bc6', 'order_source': 'allegro', 'order_source_id': '37372', 'order_source_info': '-', 'order_status_id': 238258, 'confirmed': True, 'date_confirmed': 1630310422, 'date_add': 1630310035, 'date_in_status': 1630310419, 'user_login': 'Client:101040939', 'phone': '+48786149309', 'email': 'ls7drtwmz9+83e37397@allegromail.pl', 'user_comments': '', 'admin_comments': '', 'currency': 'PLN', 'payment_method': 'Przelewy24', 'payment_method_cod': '0', 'payment_done': 126.99, 'delivery_method': 'Allegro Paczkomaty InPost', 'delivery_price': 8.99, 'delivery_package_module': '', 'delivery_package_nr': '', 'delivery_fullname': 'Ewa Zalewska', 'delivery_company': '', 'delivery_address': 'Mazury, 11', 'delivery_city': 'Wysokie Mazowieckie', 'delivery_postcode': '18-200', 'delivery_country_code': 'PL', 'delivery_point_id': 'WZM02M', 'delivery_point_name': 'Paczkomat WZM02M', 'delivery_point_address': 'Białostocka 4', 'delivery_point_postcode': '18-200', 'delivery_point_city': 'Wysokie Mazowieckie', 'invoice_fullname': 'Ewa Zalewska', 'invoice_company': '', 'invoice_nip': '', 'invoice_address': 'Mazury, 11', 'invoice_city': 'Wysokie Mazowieckie', 'invoice_postcode': '18-200', 'invoice_country_code': 'PL', 'want_invoice': '0', 'extra_field_1': '', 'extra_field_2': '', 'order_page': 'https://klient.baselinker.com/317604113/uxzu40m4ov/', 'pick_state': 0, 'pack_state': 0, 'delivery_country': 'Polska', 'invoice_country': 'Polska', 'products': [{'storage': 'db', 'storage_id': '0', 'order_product_id': '563445523', 'product_id': '0', 'variant_id': '0', 'name': 'Prostownica Remington S7710', 'attributes': '', 'sku': 'S7710', 'ean': '4008496818488', 'auction_id': '10067821003', 'price_brutto': 118, 'tax_rate': 23, 'quantity': 1, 'weight': 0}]}, {'order_id': 317608383, 'shop_order_id': '', 'external_order_id': '4dba6501-0969-11ec-8ce1-f9240d74a3b1', 'order_source': 'allegro', 'order_source_id': '37372', 'order_source_info': '-', 'order_status_id': 238258, 'confirmed': True, 'date_confirmed': 1630311021, 'date_add': 1630310966, 'date_in_status': 1630311019, 'user_login': 'adams1409', 'phone': '+48693459839', 'email': 'ysf866d1ct+3052528c6@allegromail.pl', 'user_comments': '', 'admin_comments': '', 'currency': 'PLN', 'payment_method': 'Przelewy24', 'payment_method_cod': '0', 'payment_done': 599, 'delivery_method': 'Allegro Paczkomaty InPost', 'delivery_price': 0, 'delivery_package_module': '', 'delivery_package_nr': '', 'delivery_fullname': 'Adam Hyczar', 'delivery_company': '', 'delivery_address': 'M.Zientary-Malewskiej 55c/2', 'delivery_city': 'Olsztyn', 'delivery_postcode': '10-310', 'delivery_country_code': 'PL', 'delivery_point_id': 'OLS10N', 'delivery_point_name': 'Paczkomat OLS10N', 'delivery_point_address': 'Poprzeczna 11D', 'delivery_point_postcode': '10-282', 'delivery_point_city': 'Olsztyn', 'invoice_fullname': 'Adam Hyczar', 'invoice_company': '', 'invoice_nip': '', 'invoice_address': 'M.Zientary-Malewskiej 55c/2', 'invoice_city': 'Olsztyn', 'invoice_postcode': '10-310', 'invoice_country_code': 'PL', 'want_invoice': '0', 'extra_field_1': '', 'extra_field_2': '', 'order_page': 'https://klient.baselinker.com/317608383/trckllrf8m/', 'pick_state': 0, 'pack_state': 0, 'delivery_country': 'Polska', 'invoice_country': 'Polska', 'products': [{'storage': 'db', 'storage_id': '0', 'order_product_id': '563453623', 'product_id': '', 'variant_id': '', 'name': 'Tablet SAMSUNG Galaxy TAB A7 Lite T220 WiFi szary', 'attributes': '', 'sku': 'SM-T220NZAAEUE', 'ean': '', 'auction_id': '10918868582', 'price_brutto': 599, 'tax_rate': 23, 'quantity': 1, 'weight': 0}]}, {'order_id': 317608405, 'shop_order_id': '', 'external_order_id': 'e2065f82-0968-11ec-8508-37130501a56b', 'order_source': 'allegro', 'order_source_id': '40138', 'order_source_info': '-', 'order_status_id': 238258, 'confirmed': True, 'date_confirmed': 1630311022, 'date_add': 1630310888, 'date_in_status': 1630311022, 'user_login': 'Pawel_S6', 'phone': '+48515609416', 'email': 'mqk73x8q4h+34e0b0059@allegromail.pl', 'user_comments': '', 'admin_comments': '', 'currency': 'PLN', 'payment_method': 'Przelewy24', 'payment_method_cod': '0', 'payment_done': 99, 'delivery_method': 'Allegro Paczkomaty InPost', 'delivery_price': 0, 'delivery_package_module': '', 'delivery_package_nr': '', 'delivery_fullname': 'Paweł Sturgulewski', 'delivery_company': '', 'delivery_address': 'ul. Cieszyńska 5/45', 'delivery_city': 'Warszawa', 'delivery_postcode': '02-716', 'delivery_country_code': 'PL', 'delivery_point_id': 'WAW437M', 'delivery_point_name': 'Paczkomat WAW437M', 'delivery_point_address': 'Bukowińska 10', 'delivery_point_postcode': '02-703', 'delivery_point_city': 'Warszawa', 'invoice_fullname': 'Paweł Sturgulewski', 'invoice_company': '', 'invoice_nip': '', 'invoice_address': 'ul. Cieszyńska 5/45', 'invoice_city': 'Warszawa', 'invoice_postcode': '02-716', 'invoice_country_code': 'PL', 'want_invoice': '0', 'extra_field_1': '', 'extra_field_2': '', 'order_page': 'https://klient.baselinker.com/317608405/k4msvbjaoi/', 'pick_state': 0, 'pack_state': 0, 'delivery_country': 'Polska', 'invoice_country': 'Polska', 'products': [{'storage': 'db', 'storage_id': '0', 'order_product_id': '563453691', 'product_id': '0', 'variant_id': '0', 'name': 'SAMSUNG GALAXY SmartTag LOKALIZATOR EI-T5300 BLACK', 'attributes': '', 'sku': 'EI-T5300BBEGWW', 'ean': '8806090840067', 'auction_id': '10582330659', 'price_brutto': 99, 'tax_rate': 23, 'quantity': 1, 'weight': 0}]}]}
    data = [orders['orders'][0]]
    """ TEST DATA"""

    create_xml(data)  # orders['orders']

    # TODO: Add Baselinker modifiers
